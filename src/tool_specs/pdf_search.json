{
  "type": "function",
  "function": {
    "name": "pdf_search",
    "displayName": "PDF Search",
    "description": "Recherche de texte dans un ou plusieurs fichiers PDF (fichier ou dossier). Supporte regex, sensibilité à la casse, sélection de pages (string ou liste). Retourne le total des correspondances (sur toute la plage) et les 50 premières citations.",
    "parameters": {
      "type": "object",
      "properties": {
        "operation": {
          "type": "string",
          "enum": ["search"],
          "description": "Toujours 'search' pour cette version."
        },
        "path": {
          "type": "string",
          "description": "Chemin d'un fichier PDF ou d'un dossier (relatif au projet ou absolu)"
        },
        "paths": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Liste de fichiers ou dossiers"
        },
        "query": {
          "type": "string",
          "description": "Texte à rechercher (ou expression régulière si regex=true)"
        },
        "pages": {
          "type": "string",
          "description": "Sélection de pages (1-based), ex: '1-3,5,10'"
        },
        "pages_list": {
          "type": "array",
          "items": {"type": "integer"},
          "description": "Liste explicite de pages (1-based), ex: [1,3,10]"
        },
        "case_sensitive": {
          "type": "boolean",
          "default": false,
          "description": "Respecter la casse lors de la recherche"
        },
        "regex": {
          "type": "boolean",
          "default": false,
          "description": "Interpréter 'query' comme une expression régulière"
        },
        "recursive": {
          "type": "boolean",
          "default": true,
          "description": "Parcourir les dossiers de façon récursive"
        },
        "context": {
          "type": "integer",
          "default": 80,
          "description": "Taille du contexte en caractères autour de la correspondance"
        }
      },
      "required": ["query"],
      "additionalProperties": false
    }
  }
}