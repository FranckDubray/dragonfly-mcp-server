




















// Simple sessionStorage-based prefs for /workers UI
const K_OPTS = 'workers_ui_opts';
function parseJSON(s){ try{ return JSON.parse(s); }catch{ return null; } }

export function loadOpts(){
  return parseJSON(sessionStorage.getItem(K_OPTS)) || { hide_start:false, hide_end:false, labels:true, follow_sg:false, auto_center:true };
}
export function saveOpts(opts){
  const cur = loadOpts();
  const out = {...cur, ...opts};
  sessionStorage.setItem(K_OPTS, JSON.stringify(out));
  return out;
}
export function loadKind(worker){
  return sessionStorage.getItem(`workers_ui_kind:${worker}`) || 'process';
}
export function saveKind(worker, kind){
  sessionStorage.setItem(`workers_ui_kind:${worker}`, kind||'process');
}

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
