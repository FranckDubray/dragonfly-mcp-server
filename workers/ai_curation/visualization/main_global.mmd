graph LR
  START([🚀 START])
  INIT[🔧 INIT<br>dates + DB setup]
  COLLECT[📦 COLLECT<br>5 sources + filter]
  SCORE[🎯 SCORE<br>GPT top 10]
  VALIDATE[✅ VALIDATE<br>Sonar quality check]
  OUTPUT[💾 OUTPUT<br>Format FR + save]
  EXIT([🏁 EXIT])
  
  START-->INIT
  INIT-->COLLECT
  COLLECT-->SCORE
  SCORE-->VALIDATE
  VALIDATE-->|🔄 retry|SCORE
  VALIDATE-->|✓ success|OUTPUT
  OUTPUT-->EXIT
  
  class INIT init
  class COLLECT collect
  class SCORE score
  class VALIDATE validate
  class OUTPUT output
  
  classDef init fill:#2196F3,stroke:#1976D2,stroke-width:2px,color:#fff
  classDef collect fill:#4CAF50,stroke:#388E3C,stroke-width:2px,color:#fff
  classDef score fill:#FF9800,stroke:#F57C00,stroke-width:2px,color:#fff
  classDef validate fill:#9C27B0,stroke:#7B1FA2,stroke-width:2px,color:#fff
  classDef output fill:#607D8B,stroke:#455A64,stroke-width:2px,color:#fff
