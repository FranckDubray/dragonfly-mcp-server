{
  "version": "1.0",
  "process_version": "6.3.0",
  "metadata": {
    "description": "AI/LLM curation worker with hierarchical subgraphs (72h freshness, 5 sources, quality validation, FR reports + ENRICH primary sources)",
    "author": "orchestrator-team",
    "architecture": "6 subgraphs (INIT → COLLECT → SCORE → VALIDATE → ENRICH → OUTPUT)"
  },
  "worker_ctx": {"$import": "config/worker_ctx.json"},
  "scopes": {"$import": "config/scopes.json"},
  "graph": {
    "subgraphs": [
      {"id": "INIT", "name": "Initialization", "import": "subgraphs/01_init.subgraph.json"},
      {"id": "COLLECT", "name": "Multi-Source Collection", "import": "subgraphs/02_collect.subgraph.json"},
      {"id": "SCORE", "name": "GPT Scoring", "import": "subgraphs/03_score.subgraph.json"},
      {"id": "VALIDATE", "name": "Quality Validation", "import": "subgraphs/04_validate.subgraph.json"},
      {"id": "ENRICH", "name": "Primary Sources Enrichment", "import": "subgraphs/06_enrich.subgraph.json"},
      {"id": "OUTPUT", "name": "Format & Save", "import": "subgraphs/05_output.subgraph.json"}
    ],
    "nodes": [
      {"name": "START", "type": "start"},
      {"name": "EXIT", "type": "exit"}
    ],
    "edges": [
      {"from": "START", "to": "INIT"},
      {"from": "INIT", "to": "COLLECT"},
      {"from": "COLLECT", "to": "SCORE", "when": "success"},
      {"from": "COLLECT", "to": "EXIT", "when": "fail"},
      {"from": "SCORE", "to": "VALIDATE"},
      {"from": "VALIDATE", "to": "ENRICH", "when": "success"},
      {"from": "VALIDATE", "to": "SCORE", "when": "retry"},
      {"from": "VALIDATE", "to": "ENRICH", "when": "retry_exhausted"},
      {"from": "ENRICH", "to": "OUTPUT"},
      {"from": "OUTPUT", "to": "EXIT"}
    ]
  }
}
